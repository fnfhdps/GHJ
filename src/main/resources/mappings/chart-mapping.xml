<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
			"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
			
<mapper namespace="ChartDAO">
	
	<!-- 내 입양글 목록 조회 (마이페이지) -->
	<select id="weekJoinCnt" resultType="chart">
		<![CDATA[
			select (select count(*)
			        from users
			        where to_char(regdate,'yyyymmdd') =
			        to_char(trunc(sysdate, 'd'),'yyyymmdd'
			        ))as sun,
			        (select count(*)
			        from users
			        where to_char(regdate,'yyyymmdd') =
			        to_char(trunc(sysdate, 'd')+1,'yyyymmdd'
			        ))as mon,
			        (select count(*)
			        from users
			        where to_char(regdate,'yyyymmdd') =
			        to_char(trunc(sysdate, 'd')+2,'yyyymmdd'
			        ))as tue,
			        (select count(*)
			        from users
			        where to_char(regdate,'yyyymmdd') =
			        to_char(trunc(sysdate, 'd')+3,'yyyymmdd'
			        ))as wed,
			        (select count(*)
			        from users
			        where to_char(regdate,'yyyymmdd') =
			        to_char(trunc(sysdate, 'd')+4,'yyyymmdd'
			        ))as thu,
			        (select count(*)
			        from users
			        where to_char(regdate,'yyyymmdd') =
			        to_char(trunc(sysdate, 'd')+5,'yyyymmdd'
			        ))as fri,
			        (select count(*)
			        from users
			        where to_char(regdate,'yyyymmdd') =
			        to_char(trunc(sysdate, 'd')+6,'yyyymmdd'
			        ))as sat
			from dual
		]]>
	</select>
	
</mapper>